# Summarization prompts for different versions
v0:
  template: |
    Please provide a concise summary of the following problem-solving attempt.
    Focus on the key steps, assumptions, and any potential errors.
    
    REASONING:
    {reasoning}
    
    SUMMARY:

concise:
  template: |
    Summarize the following mathematical reasoning trace. Be concise but ensure you capture:
    
    - The overall approach
    - Key insights
    - Potential errors or issues
    
    REASONING:
    {reasoning}
    
    SUMMARY:

testing:
  template: |
    Please summarize the following thought process. Do not try to solve the problem. Your only goal is to summarize the thought process faithfully and very concisely.
    
    REASONING:
    {reasoning}
    
    SUMMARY:
  
pure_summarization:
  template: |
    Summarize the following attempted solution to a mathematical problem into a concise outline of the main steps.
    Focus only on compressing the key calculations and reasoning without adding any evaluation, analysis, or suggestions.
    
    Your summary should:
    1. Extract only the essential steps in the problem-solving process
    2. Maintain the same logical flow as the original solution
    3. Be significantly shorter than the original while preserving critical information
    
    PROBLEM:
    {question}

    ATTEMPTED SOLUTION:
    {reasoning}
    
    SUMMARY:

approach_focused_summarization:
  template: |
    Summarize the following attempted solution to an AIME math problem. Your summary should:
    
    1. Outline the complete solution strategy that was used (e.g., geometric approach, algebraic manipulation, etc.)
    2. Include all key equations, formulations, and transformations
    3. Highlight the critical assumptions made during the solution
    4. Note any complex calculations or numerical work
    5. Identify any points where the solution path branches or makes specific choices
    
    Create a comprehensive but concise summary that would allow someone to fully understand the approach that was taken, without needing to see the original work.
    
    PROBLEM:
    {question}

    ATTEMPTED SOLUTION:
    {reasoning}
    
    SUMMARY:

solution_evaluation_and_guidance:
  template: |
    Summarize the following attempted solution to an AIME math problem. Your summary should:
    
    1. Outline the complete solution strategy that was used (e.g., geometric approach, algebraic manipulation, etc.)
    2. Include all key equations, formulations, and transformations
    3. Highlight the critical assumptions made during the solution
    4. Evaluate whether the solution approach appears to be correct or may contain errors
    
    If you believe the solution may be incorrect:
    - Identify specific steps or calculations that might contain errors
    - Suggest 1-2 alternative solution approaches that could be more effective
    
    If you believe the solution appears correct:
    - Note what verification steps could be performed to confirm the answer
    - Highlight any simplifications or optimizations that could improve the solution
    
    PROBLEM:
    {question}
    ATTEMPTED SOLUTION:
    {reasoning}
    
    SUMMARY:
    
aime_approach_and_answer:
  template: |
    Summarize the following attempted solution to the problem. Your summary should:
    
    1. Outline the complete solution strategy that was used
    2. Include all key equations, formulations, and transformations
    3. Highlight the critical assumptions made during the solution
    4. Note any calculations or numerical work
    5. Identify any points where the solution path branches or makes specific choices
    6. Include any backtracking, revision, or reevaluation of previous steps
    
    Create a comprehensive but concise summary that would allow someone to fully understand the approach that was taken, without needing to see the original work.

    After the summary, include the final answer reached by the solution in \boxed{} format.
    
    PROBLEM:
    {question}

    ATTEMPTED SOLUTION:
    {reasoning}
    
    SUMMARY:

direct_retelling:
  template: |
    Retell the sequence of thoughts from the attempted solution below. Describe the steps taken, the reasoning behind them, any alternative ideas considered, and any moments of correction or doubt, in the order they appeared. Ensure your retelling includes *all* intermediate calculations and potential answers mentioned in the original attempt, even if they were later discarded. Do not summarize or simplify the thought process.

    After the summary, include the final answer reached by the solution in \boxed{} format.

    PROBLEM:
    {question}

    ATTEMPTED SOLUTION:
    {reasoning}

    RETOLD THOUGHT PROCESS:

deconstruct:
  template: |
    Deconstruct the following attempted solution to the problem. Your goal is to create a structured representation of the *entire* thought process from the 'ATTEMPTED SOLUTION', including explorations, uncertainties, and revisions, that can inform a subsequent attempt. **Do not compress, simplify, or omit details about the reasoning journey.** Focus on accurately capturing the *process* as it occurred.

    Structure your deconstruction using the following sections:

    1.  **Problem Interpretation:** How did the attempt initially understand the problem's goal, constraints, and key elements?
    2.  **Initial Strategy/Approach:** What was the first main mathematical strategy or line of reasoning pursued?
    3.  **Key Steps & Logic Flow:** Detail the sequence of major calculations, derivations, formulas used, and logical steps followed.
    4.  **Alternative Paths & Explorations:** Describe any significant alternative approaches, ideas, or calculations that were considered or explored, *even if they were abandoned*.
    5.  **Self-Corrections & Revisions:** Identify any specific points where the reasoning explicitly backtracked, corrected a perceived mistake, or changed its interpretation or direction. What seemed to trigger these changes?
    6.  **Points of Uncertainty/Doubt:** Note any parts where the reasoning expressed confusion, doubt, or lack of confidence in a step, assumption, or result.
    7.  **Final Answer Derivation:** Outline the specific sequence of steps and calculations that immediately led to the final conclusion or boxed answer presented in the attempt.

    ---
    After completing the structured deconstruction above, explicitly state the final answer derived *in the original ATTEMPTED SOLUTION* below, using the specified format. If no boxed answer was present in the attempt, state "No boxed answer found".

    ATTEMPT'S FINAL ANSWER: \boxed{ANSWER}
    ---

    PROBLEM:
    {question}

    ATTEMPTED SOLUTION:
    {reasoning}

    DECONSTRUCTION OF ATTEMPT:

journey:
  template: |
    Analyze the following attempted solution. Provide a detailed narrative reconstructing the thought process used to arrive at the conclusion presented in the 'ATTEMPTED SOLUTION'. Your goal is to faithfully represent the *entire* reasoning journey, including intermediate steps, explorations, changes in direction, and moments of uncertainty, so that this reconstruction can be reviewed and potentially built upon.

    **Focus on describing the process as it unfolded:** How was the problem initially interpreted and what strategy was chosen? Detail the key steps, calculations, and logical deductions. Importantly, describe any significant alternative paths or ideas that were explored, even if they were ultimately not pursued. Note specific instances where the reasoning seemed to backtrack, revise an earlier step or understanding, or correct a perceived mistake. Also capture any points where the model expressed doubt or uncertainty about its approach or results. Ensure your reconstruction reflects the flow and evolution of the thought process accurately and completely, **without simplifying or omitting the exploratory or corrective phases.** Do not critique the reasoning or solve the problem yourself in this reconstruction; your task is only to describe the process that *was* followed in the provided attempt.

    ---
    After providing the detailed reconstruction, explicitly state the final answer derived *in the original ATTEMPTED SOLUTION* below. If no boxed answer was present in the attempt, state "No boxed answer found".

    ATTEMPT'S FINAL ANSWER: \boxed{ANSWER}
    ---

    PROBLEM:
    {question}

    ATTEMPTED SOLUTION:
    {reasoning}

    RECONSTRUCTION OF THOUGHT PROCESS: