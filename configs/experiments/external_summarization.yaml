# Configuration for external summarization pipeline experiment

# Base configuration (will be merged with this config)
base_config: configs/experiments/baseline.yaml

# Pipeline configuration
pipeline:
  name: external_summary
  type: summary
  batch_size: 4
  save_intermediates: true
  max_iterations: 2
  continuation_prompt: "Based on the summary of your previous reasoning, continue solving the problem. Try to correct any errors identified in the summary."

# Model configuration (import from files)
imports:
  - configs/models/fireworks.yaml
  - configs/summarization/default.yaml

# Summarization configuration
summarization:
  method: external
  strategy: error_focused
  prompt: error_focused
  max_tokens: 1000
  temperature: 0.5
  
  # External summarization specific settings
  external_summary:
    strategy: error_focused
    prompt: error_focused
    max_tokens: 1000
    temperature: 0.5

# Reasoning model (can be overridden to use different models)
reasoning_model:
  name: deepseek-r1-distill-qwen-7b
  model_id: accounts/fireworks/models/deepseek-r1-distill-qwen-7b

# Summarization model (main DeepSeek R1 for summarization)
summarization_model:
  name: deepseek-r1
  model_id: accounts/fireworks/models/deepseek-r1

# Reasoning configuration overrides
reasoning:
  think_tag: true
  max_extensions: 5
  target_token_count: 2000

# Evaluation configuration
evaluation:
  metrics:
    - accuracy
    - improvement_rate
  tolerance: 0.01  # Numerical tolerance for answer comparison

# Output configuration
output:
  results_path: results/external_summary
  save_format: json
  visualizations: true

# Logging configuration
logging:
  level: INFO
  save_path: logs
  console_output: true
  log_file: true